
tag @s add oa.tag
scoreboard players set #oa.world.input oa.fpvalue 8
function ocean_additions:world/rng/rand 
execute if score #oa.world.output oa.fpvalue matches 0..4 run summon wandering_trader ~0.5 ~ ~0.5 {Silent:1b,DeathLootTable:"ocean_additions:entities/lobster",Health:8f,Tags:["oa.entity","oa.lobster.start","oa.lobster","oa.lobster.brown","global.ignore"],CustomName:'{"translate":"oa.entity.lobster"}',ArmorItems:[{id:"minecraft:leather_boots",Count:1b,tag:{Unbreakable:1b,Enchantments:[{id:"minecraft:depth_strider",lvl:3s}]}},{},{},{}],ArmorDropChances:[-10000.000F,-10000.000F,-10000.000F,-10000.000F],ActiveEffects:[{Id:14b,Amplifier:0b,Duration:100000,ShowParticles:0b}],Attributes:[{Name:"generic.max_health",Base:8},{Name:"generic.movement_speed",Base:0.5}],Offers:{Recipes:[]}}
execute if score #oa.world.output oa.fpvalue matches 5..6 run summon wandering_trader ~0.5 ~ ~0.5 {Silent:1b,DeathLootTable:"ocean_additions:entities/lobster",Health:8f,Tags:["oa.entity","oa.lobster.start","oa.lobster","oa.lobster.red","global.ignore"],CustomName:'{"translate":"oa.entity.lobster"}',ArmorItems:[{id:"minecraft:leather_boots",Count:1b,tag:{Unbreakable:1b,Enchantments:[{id:"minecraft:depth_strider",lvl:3s}]}},{},{},{}],ArmorDropChances:[-10000.000F,-10000.000F,-10000.000F,-10000.000F],ActiveEffects:[{Id:14b,Amplifier:0b,Duration:100000,ShowParticles:0b}],Attributes:[{Name:"generic.max_health",Base:8},{Name:"generic.movement_speed",Base:0.5}],Offers:{Recipes:[]}}
execute if score #oa.world.output oa.fpvalue matches 7 run summon wandering_trader ~0.5 ~ ~0.5 {Silent:1b,DeathLootTable:"ocean_additions:entities/lobster",Health:8f,Tags:["oa.entity","oa.lobster.start","oa.lobster","oa.lobster.blue","global.ignore"],CustomName:'{"translate":"oa.entity.lobster"}',ArmorItems:[{id:"minecraft:leather_boots",Count:1b,tag:{Unbreakable:1b,Enchantments:[{id:"minecraft:depth_strider",lvl:3s}]}},{},{},{}],ArmorDropChances:[-10000.000F,-10000.000F,-10000.000F,-10000.000F],ActiveEffects:[{Id:14b,Amplifier:0b,Duration:100000,ShowParticles:0b}],Attributes:[{Name:"generic.max_health",Base:8},{Name:"generic.movement_speed",Base:0.5}],Offers:{Recipes:[]}}
execute as @e[type=wandering_trader,limit=1,sort=nearest,tag=oa.lobster.start] run function ocean_additions:entity/lobster/unbucket/initiate
item replace entity @s[gamemode=!creative,nbt={SelectedItem:{tag:{oa:{id:"lobster_bucket"}}}}] weapon.mainhand with minecraft:bucket
playsound minecraft:item.bucket.empty_fish neutral @a[distance=..16]
data modify entity @e[limit=1,sort=nearest,type=wandering_trader,tag=oa.lobster] DeathTime set value 18s